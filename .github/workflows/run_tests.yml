name: GLuaTest Runner

on:
  pull_request:
    paths:
      - lua/**
  push:
    branches:
      - main
    paths:
      - lua/**
  workflow_dispatch:

jobs:
  run_tests:
    uses: CFC-Servers/GLuaTest/.github/workflows/run_tests.yml@feature/runner-improvement
    with:
      collection: 3460542547
      map: gm_glua_tests
      dockerbuild: true
      gluatest-ref: "feature/runner-improvement"
    strategy:
      matrix:
        branch:
          - "live"
          - "x86-64"
          - "prerelease"
          - "dev"
      fail-fast: false
