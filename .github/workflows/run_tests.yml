name: GLuaTest Runner

on:
  pull_request:
    paths:
      - lua/**
  push:
    branches:
      - main
    paths:
      - lua/**
  workflow_dispatch:

jobs:
  run-mainbranch-tests:
    uses: CFC-Servers/GLuaTest/.github/workflows/run_tests.yml@main
    with:
      branch: live
      collection: 3460542547
      map: gm_glua_tests
      extra-startup-args: "-usegh"
      # download-artifact: "https://github.com/RaphaelIT7/gmod-holytest"

  run-64bit-tests:
    uses: CFC-Servers/GLuaTest/.github/workflows/run_tests.yml@main
    with:
      branch: x86-64
      collection: 3460542547
      map: gm_glua_tests
      extra-startup-args: "-usegh"
      # download-artifact: "https://github.com/RaphaelIT7/gmod-holytest"
